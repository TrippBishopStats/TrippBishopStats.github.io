<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tripp Bishop">

<title>Chronic Absenteeism in Colorado School Districts</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Colorado-School-District-ChronicAbsenteeism_files/libs/clipboard/clipboard.min.js"></script>
<script src="Colorado-School-District-ChronicAbsenteeism_files/libs/quarto-html/quarto.js"></script>
<script src="Colorado-School-District-ChronicAbsenteeism_files/libs/quarto-html/popper.min.js"></script>
<script src="Colorado-School-District-ChronicAbsenteeism_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Colorado-School-District-ChronicAbsenteeism_files/libs/quarto-html/anchor.min.js"></script>
<link href="Colorado-School-District-ChronicAbsenteeism_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Colorado-School-District-ChronicAbsenteeism_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Colorado-School-District-ChronicAbsenteeism_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Colorado-School-District-ChronicAbsenteeism_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Colorado-School-District-ChronicAbsenteeism_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Chronic Absenteeism in Colorado School Districts</h1>
<p class="subtitle lead">School years 2016-2017 to 2022-2023</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tripp Bishop </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Rates of chronic absenteeism have been increasing in Colorado over the past several years. This analysis aims to identify broad trends, both spatially and temporally, in this phenomenon and to provide resources to those that are investigating and verifying methods to mitigate it.</p>
<section id="objectives" class="level3">
<h3 class="anchored" data-anchor-id="objectives">Objectives</h3>
<p>The objectives of this analysis are to:</p>
<ul>
<li>Understand how rates of chronic absenteeism change temporally and spatially from 2016 to 2023.</li>
<li>Compare chronic absenteeism rates in different regions of Colorado</li>
<li>Understand if COVID-19 appears to have had a significant effect on chronic absentee rates.</li>
<li>Understand if school district size is correlated with chronic absentee rates.</li>
</ul>
<p>Data from the Colorado Department of Education will be used to understand chronic absenteeism and its rate and location of occurrence.</p>
</section>
<section id="definitions" class="level3">
<h3 class="anchored" data-anchor-id="definitions">Definitions</h3>
<p>The Colorado Department of Education provides the following definition of chronic absenteeism:</p>
<blockquote class="blockquote">
<ul>
<li><strong>Chronically Absent</strong>: A student absent 10 percent or more of the days enrolled during the school year is chronically absent. All absences are included - unexcused and excused. The rate is the percentage of students enrolled who are chronically absent.</li>
</ul>
</blockquote>
</section>
<section id="resources" class="level3">
<h3 class="anchored" data-anchor-id="resources">Resources</h3>
<p>The following resources were produced for this analysis and are made publicly available:</p>
<ul>
<li><p><a href="https://public.tableau.com/app/profile/tripp.bishop/viz/ColoradoSchoolDistrictChronicAbsenteeism/Dashboard1">Chronic Absenteeism in Colorado 2016-2023 Dashboard</a> - A Tableau interactive dashboard that lets the user see both spatial and temporal changes to chronic absenteeism throughout the state.</p></li>
<li><p><a href="https://github.com/TrippBishopStats/Chronic-Absenteeism-Colorado">Chronic Absenteeism Colorado</a> - The github repository that contains all source materials and the code, written in the R programming language, used to produce this analysis.</p></li>
</ul>
</section>
</section>
<section id="data-sources" class="level2">
<h2 class="anchored" data-anchor-id="data-sources">Data Sources</h2>
<p>The data sources used in this analysis come from the Colorado Department of Education. The department maintains a website containing information about <a href="https://www.cde.state.co.us/cdereval/truancystatistics">attendance</a> including information about chronic absenteeism.</p>
<p>The raw data for years 2016-2017 to 2021-2022 can be found at the <a href="https://www.cde.state.co.us/cdereval/attendancedatapreviousyears">Attendance - Previous School Years</a> page or at the github repository listed in the <a href="#resources">Resources</a> section above.</p>
<p>In addition to the absenteenism data, geometry files for creating maps are required for this analysis. The Colorado school district shape file was obtained from the <a href="https://geodata.colorado.gov/datasets/COOIT::school-districts/about">Colorado Geospatial Portal</a> and modified to meet the needs of this analysis. From more information on how the file was modified, see the <a href="#the-shape-file">shape file</a> section below.</p>
<p>Notes on the methodology of data collection from the Department of Education:</p>
<blockquote class="blockquote">
<ul>
<li>Distinct counts were taken for each level of data, i.e.&nbsp;distinct counts for the state, district and school level. Since distinct counts were taken, there is not necessarily a 1-1 ratio of summing up schools to equal a district count, or summing up district counts to equate state level.</li>
<li>Total Days Attended + Total Days Excused + Total Days Unexcused = Total Days Possible for each student record. There is a 0.5 tolerance for this calculation.</li>
<li>Chronic Absenteeism Rate adjusted from school year 2022-2023, forward, to not include PK students in denominator.</li>
<li>Total Number of Chronic Absenteeism students and Total Number of Habitually Truant (for each category) adjusted from school year 2022-2023, forward, to not include duplicate counts, i.e.&nbsp;not count one student twice or more for meeting multiple criteria.</li>
<li>School level data was collected up until the 2018-2019 school year with student level data collection beginning in 2019-2020.</li>
</ul>
</blockquote>
</section>
<section id="data-prepartion" class="level2">
<h2 class="anchored" data-anchor-id="data-prepartion">Data prepartion</h2>
<p>The file structure is not consistent across the individual year datasets. There are different numbers of fields, different names for the same fields, differing numbers of empty rows at the end of the datasets, and different file name conventions for the different datasets. The goal of the data preparation is to normalise all datasets so that they:</p>
<ol type="1">
<li>Have the same naming convention for all input files</li>
<li>Have the same structure</li>
<li>Have the same naming convention for all fields</li>
<li>Have field names that are easy to work with in code</li>
<li>Fields are in the same column order within datasets</li>
<li>Contain no extraneous records or fields</li>
<li>Ensure that all datasets contain the same number of districts</li>
</ol>
<p>For more details on the data preparation process, consult the preparation script, <code>data-prep.R</code>, found in the <code>/scripts</code> directory of the <a href="https://github.com/TrippBishopStats/Chronic-Absenteeism-Colorado">Chronic Absenteeism Colorado</a> repository.</p>
<section id="standarising-file-names-fields-and-naming-conventions" class="level3">
<h3 class="anchored" data-anchor-id="standarising-file-names-fields-and-naming-conventions">Standarising file names, fields, and naming conventions</h3>
<p>The data for this analysis came in the form of Excel spreadsheets with varying name formats. The individual school year file names were standardised with the following format: <code>startyear-endyear_ChronicAbsenteeism.xslx</code>. For example, data for the 2016-2017 school year is contained in the file <code>2016-2017_ChronicAbsenteeism.xlsx</code>.</p>
<p>In addition to discrepancies in file names, there were inconsistencies in the field names between years.</p>
</section>
<section id="dataset-structure-standardisation" class="level3">
<h3 class="anchored" data-anchor-id="dataset-structure-standardisation">Dataset structure standardisation</h3>
<p>While the individual datasets contain most of the same data, the structure of the data varies from year to year. The following structure has been imposed on all school year datasets so that they can be merging into a single, master dataset.</p>
<table class="table">
<thead>
<tr class="header">
<th>Field name</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>school_year</td>
<td>ordinal factor</td>
</tr>
<tr class="even">
<td>county_code</td>
<td>character</td>
</tr>
<tr class="odd">
<td>county_name</td>
<td>character</td>
</tr>
<tr class="even">
<td>district_code</td>
<td>character</td>
</tr>
<tr class="odd">
<td>district_name</td>
<td>character</td>
</tr>
<tr class="even">
<td>absentee_students</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>total_students</td>
<td>numeric</td>
</tr>
<tr class="even">
<td><strong>district_size</strong></td>
<td>ordinal_factor</td>
</tr>
<tr class="odd">
<td>chronically_absent_rate</td>
<td>numeric</td>
</tr>
<tr class="even">
<td><strong>pct_diff</strong></td>
<td>numeric</td>
</tr>
</tbody>
</table>
<p>Field names in <strong>bold</strong> are derived fields that are not in the original data. Details can be found in the <a href="#feature-creation">Feature creation</a> section below.</p>
<p>The truancy data was removed from the dataset since chronic absenteeism is the focus of this analysis. All fields were converted to “clean” names that facilitate working with them programmatically. This entails replacing spaces with underscores, converting all characters to lower case, and ensuring that fields do not start with a numeral.</p>
<p>The changes required for each year’s data are detailed in the following sections.</p>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section">2016-2017</h4>
<ul>
<li>Fields were renamed to match standard names.</li>
<li>Truancy field was dropped.</li>
<li>The <code>school_year</code> field was missing.</li>
</ul>
</section>
<section id="section-1" class="level4">
<h4 class="anchored" data-anchor-id="section-1">2017-2018/2018-2019</h4>
<ul>
<li>Fields were renamed to match standard names.</li>
<li>Truancy fields were dropped.</li>
</ul>
</section>
<section id="section-2" class="level4">
<h4 class="anchored" data-anchor-id="section-2">2019-2020/2020-2021/2021-2022</h4>
<ul>
<li>Fields were renamed to match standard names.</li>
<li>Truancy fields were dropped.</li>
<li><code>2021_2022_student_count</code> field was renamed to <code>total_students</code>.</li>
</ul>
</section>
<section id="section-3" class="level4">
<h4 class="anchored" data-anchor-id="section-3">2022-2023</h4>
<ul>
<li>Fields were renamed to match standard names.</li>
<li>Truancy fields were dropped.</li>
<li><code>k_12_student_count_used_in_chronic_absent_rate</code> field was renamed to <code>total_students</code>.</li>
<li><code>chronic_absent_count</code> field was renamed to <code>absentee_count</code>.</li>
<li>Fields were reordered to conform to dataset structure standard.</li>
</ul>
</section>
</section>
<section id="the-shape-file" class="level3">
<h3 class="anchored" data-anchor-id="the-shape-file">The shape file</h3>
<p>The shape file contains all of the geometries needed to successfully create the school districts in mapping software. The problem is that the school district names in the file do not always match the names in the absentee datasets. There are no other fields in the existing data to associate the district geometries with the absentee data. Such a relationship is essential for using the data to create dashboards in Tableau.</p>
<p>To solve this problem, the <code>district_code</code> field has manually added to the shape file to provide a simple way of creating the relationship between the district geometries and the absentee data. In most cases, associating the correct district code was not difficult, but the following 3 school districts required some additional research as the district names were considerably different in the shape file and absentee dataset.</p>
<section id="school-districts-to-repair" class="level4">
<h4 class="anchored" data-anchor-id="school-districts-to-repair">School districts to repair</h4>
<p>The following table contains the district name discrepancies.</p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Absentee dataset district name</th>
<th>Shapefile district name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>FREMONT RE-2</td>
<td>Florence RE-2 School District</td>
</tr>
<tr class="even">
<td>CUSTER COUNTY SCHOOL DISTRICT C-1</td>
<td>Consolidated C-1 School District (Westcliffe)</td>
</tr>
<tr class="odd">
<td>Revere School District</td>
<td>Platte Valley RE-7 School District</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run all the preprocessing code.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"scripts/data-prep.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="data-processing" class="level2">
<h2 class="anchored" data-anchor-id="data-processing">Data processing</h2>
<p>Data processing involves investigating the data looking for:</p>
<ol type="1">
<li>missing data</li>
<li>inconsistent data</li>
<li>typos and other errors in character data</li>
<li>errors in numeric data</li>
</ol>
<p>Once found, errors need to be corrected or otherwise acknowledged so that later analysis is not impacted.</p>
<section id="understanding-missingness" class="level3">
<h3 class="anchored" data-anchor-id="understanding-missingness">Understanding missingness</h3>
<p>It is important to understand what data is missing from each dataset. The R package <code>naniar</code> is used to identify records which have a least one field that is missing data.</p>
<section id="school-year" class="level4">
<h4 class="anchored" data-anchor-id="school-year">2016-2017 school year</h4>
<p>The only record with data missing in the 2016-2017 dataset is information for the <code>Karval RE-23</code> school district. Fields with missing data are <code>absentee_students</code>, <code>total_students</code>, and <code>chronically_absent_rate</code>. This is the result of this district having been missing in the original data and being added to the dataset during data preparation. Rather than attempt to impute the missing data, it will be left missing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2016) <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2016 <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 11
   case n_miss pct_miss school_year county_code county_name district_code
  &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;        
1   101      3     37.5 2016-2017   37          LINCOLN     1810         
# ℹ 4 more variables: district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;,
#   total_students &lt;dbl&gt;, chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="school-year-1" class="level4">
<h4 class="anchored" data-anchor-id="school-year-1">2017-2018 school year</h4>
<p>There is no data missing from the 2017-2018 dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2017) <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2017 <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 11
# ℹ 11 variables: case &lt;int&gt;, n_miss &lt;int&gt;, pct_miss &lt;dbl&gt;, school_year &lt;chr&gt;,
#   county_code &lt;chr&gt;, county_name &lt;chr&gt;, district_code &lt;chr&gt;,
#   district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;, total_students &lt;dbl&gt;,
#   chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="school-year-2" class="level4">
<h4 class="anchored" data-anchor-id="school-year-2">2018-2019 school year</h4>
<p>The only record with data missing in the 2018-2019 dataset is information for the <code>Cheraw 31</code> school district. Fields with missing data are <code>absentee_students</code>, <code>total_students</code>, and <code>chronically_absent_rate</code>. This is the result of this district having been missing in the original data and being added to the dataset during data preparation. Rather than attempt to impute the missing data, it will be left missing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2018) <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2018 <span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 11
   case n_miss pct_miss school_year county_code county_name district_code
  &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;        
1   124      3     37.5 2018-2019   45          OTERO       2560         
# ℹ 4 more variables: district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;,
#   total_students &lt;dbl&gt;, chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="school-year-3" class="level4">
<h4 class="anchored" data-anchor-id="school-year-3">2019-2020 school year</h4>
<p>There is no data missing from the 2019-2020 dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2019) <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2019 <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 11
# ℹ 11 variables: case &lt;int&gt;, n_miss &lt;int&gt;, pct_miss &lt;dbl&gt;, school_year &lt;chr&gt;,
#   county_code &lt;chr&gt;, county_name &lt;chr&gt;, district_code &lt;chr&gt;,
#   district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;, total_students &lt;dbl&gt;,
#   chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="school-year-4" class="level4">
<h4 class="anchored" data-anchor-id="school-year-4">2020-2021 school year</h4>
<p>The only record with data missing in the 2020-2021 dataset is information for the <code>Holly RE-3</code> school district. Fields with missing data are <code>absentee_students</code>, <code>total_students</code>, and <code>chronically_absent_rate</code>. This is the result of this district having been missing in the original data and being added to the dataset during data preparation. Rather than attempt to impute the missing data, it will be left missing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2020) <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2020 <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 11
   case n_miss pct_miss school_year county_code county_name district_code
  &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;        
1   135      3     37.5 2020-2021   50          PROWERS     2670         
# ℹ 4 more variables: district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;,
#   total_students &lt;dbl&gt;, chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="school-year-5" class="level4">
<h4 class="anchored" data-anchor-id="school-year-5">2021-2022 school year</h4>
<p>There is no data missing from the 2021-2022 dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2021) <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2021 <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 11
# ℹ 11 variables: case &lt;int&gt;, n_miss &lt;int&gt;, pct_miss &lt;dbl&gt;, school_year &lt;chr&gt;,
#   county_code &lt;chr&gt;, county_name &lt;chr&gt;, district_code &lt;chr&gt;,
#   district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;, total_students &lt;dbl&gt;,
#   chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="school-year-6" class="level4">
<h4 class="anchored" data-anchor-id="school-year-6">2022-2023 school year</h4>
<p>There is no data missing from the 2022-2023 dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_case_summary</span>(df_2022) <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n_miss <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_2022 <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowid_to_column</span>(<span class="st">"case"</span>), <span class="at">by=</span><span class="fu">c</span>(<span class="st">"case"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 11
# ℹ 11 variables: case &lt;int&gt;, n_miss &lt;int&gt;, pct_miss &lt;dbl&gt;, school_year &lt;chr&gt;,
#   county_code &lt;chr&gt;, county_name &lt;chr&gt;, district_code &lt;chr&gt;,
#   district_name &lt;chr&gt;, absentee_students &lt;dbl&gt;, total_students &lt;dbl&gt;,
#   chronically_absent_rate &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="merging-the-datasets" class="level3">
<h3 class="anchored" data-anchor-id="merging-the-datasets">Merging the datasets</h3>
<p>To facilitate further analysis, the individual school year datasets will be merged into a single master dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_2016,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                       df_2017,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                       df_2018,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                       df_2019,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                       df_2020,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                       df_2021,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                       df_2022)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="examination-of-unvariates" class="level3">
<h3 class="anchored" data-anchor-id="examination-of-unvariates">Examination of unvariates</h3>
<p>There are 3 numeric fields that need to be reviewed: <code>chronically_absent_rate</code>, <code>absentee_students</code>, and <code>total_students</code>. All of these fields should have positive values. The first, <code>chronically_absent_rate</code> should range between 0 and 1. In addition to these numeric fields, the school_districts need to be examined to ensure that all datasets include the same 178 school districts. Additionally, each dataset should contain 178 observations for the same school year.</p>
<section id="verify-counties" class="level4">
<h4 class="anchored" data-anchor-id="verify-counties">Verify counties</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(county_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 63 × 1
   county_name
   &lt;chr&gt;      
 1 ADAMS      
 2 ALAMOSA    
 3 ARAPAHOE   
 4 ARCHULETA  
 5 BACA       
 6 BENT       
 7 BOULDER    
 8 CHAFFEE    
 9 CHEYENNE   
10 CLEAR CREEK
# ℹ 53 more rows</code></pre>
</div>
</div>
<p>There are 63 counties present. This is good. There are 64 counties in the state, but Broomfield county is missing because it does not have any school districts of its own. It is served by existing districts.</p>
<p>The names are in call caps, for aesthetics, these will be converted to proper case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">county_name =</span> <span class="fu">str_to_title</span>(county_name)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(county_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 63 × 1
   county_name
   &lt;chr&gt;      
 1 Adams      
 2 Alamosa    
 3 Arapahoe   
 4 Archuleta  
 5 Baca       
 6 Bent       
 7 Boulder    
 8 Chaffee    
 9 Cheyenne   
10 Clear Creek
# ℹ 53 more rows</code></pre>
</div>
</div>
<p>Now we need to verify the county codes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(county_code) <span class="sc">|&gt;</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "01" "02" "03" "04" "05" "06" "07" "08" "09" "10" "11" "12" "13" "14" "15"
[16] "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26" "27" "28" "29" "30"
[31] "31" "32" "33" "34" "35" "36" "37" "38" "39" "40" "41" "42" "43" "44" "45"
[46] "46" "47" "48" "49" "50" "51" "52" "53" "54" "55" "56" "57" "58" "59" "60"
[61] "61" "62" "63"</code></pre>
</div>
</div>
<p>There are 63 county codes. The data are consistent.</p>
</section>
<section id="verify-school-districts" class="level4">
<h4 class="anchored" data-anchor-id="verify-school-districts">Verify school districts</h4>
<p>Each dataset has 178 school district records. They should all be unique and identical between school years.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>district_count <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>district_count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 178</code></pre>
</div>
</div>
<p>This confirms that there are only 178 districts in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>district_name_count <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_name) <span class="sc">|&gt;</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>district_name_count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 361</code></pre>
</div>
</div>
<p>We have an issue with the <code>district_name</code> field, however. There are 361 distinct values rather 178. We need to investigate the field to see if it is possible to normalise the <code>district_name</code> field.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 361 × 1
   district_name             
   &lt;chr&gt;                     
 1 MAPLETON 1                
 2 ADAMS 12 FIVE STAR SCHOOLS
 3 ADAMS COUNTY 14           
 4 SCHOOL DISTRICT 27J       
 5 BENNETT 29J               
 6 STRASBURG 31J             
 7 WESTMINSTER PUBLIC SCHOOLS
 8 ALAMOSA RE-11J            
 9 SANGRE DE CRISTO RE-22J   
10 ENGLEWOOD 1               
# ℹ 351 more rows</code></pre>
</div>
</div>
<p>After pouring through the data, it looks like the districts have both an all caps version and a proper case version.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>distinct_districts <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_name =</span> <span class="fu">str_to_title</span>(district_name)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_name) <span class="sc">|&gt;</span> </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>distinct_districts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 187</code></pre>
</div>
</div>
<p>This gets us a lot closer. There are now only 187 distinct <code>district_name</code> values, but we still have 9 to normalise.</p>
<p>Since we know that there are only 178 distinct <code>district_code</code> values, we can group by the <code>district_code</code> and find all instances where the <code>count()</code> is greater than 1. There should be 9 such instances.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_name =</span> <span class="fu">str_to_title</span>(district_name)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_name, district_code) <span class="sc">|&gt;</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
# Groups:   district_code [9]
  district_code     n
  &lt;chr&gt;         &lt;int&gt;
1 0310              2
2 0470              2
3 0920              2
4 1110              2
5 2020              2
6 2710              2
7 2730              2
8 3100              2
9 3140              2</code></pre>
</div>
</div>
<p>These are the 9 districts. We can retrieve them to see what we need to do to normalise them. Before we do, we will make permanent the proper casing of the district names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_name =</span> <span class="fu">str_to_title</span>(district_name)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>dupe_district_ids <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_name =</span> <span class="fu">str_to_title</span>(district_name)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_name, district_code) <span class="sc">|&gt;</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(district_code <span class="sc">%in%</span> dupe_district_ids) <span class="sc">|&gt;</span> </span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(district_code, district_name) <span class="sc">|&gt;</span> </span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(district_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 2
   district_code district_name                       
   &lt;chr&gt;         &lt;chr&gt;                               
 1 0310          Mc Clave Re-2                       
 2 0310          Mcclave Re-2                        
 3 0470          St Vrain Valley Re 1j               
 4 0470          St Vrain Valley Re1j                
 5 0920          Elizabeth C-1                       
 6 0920          Elizabeth School District           
 7 1110          Falcon 49                           
 8 1110          District 49                         
 9 2020          Moffat County Re:No 1               
10 2020          Moffat County Re: No 1              
11 2710          Meeker Re1                          
12 2710          Meeker Re-1                         
13 2730          Del Norte C-7                       
14 2730          Upper Rio Grande School District C-7
15 3100          Windsor Re-4                        
16 3100          Weld Re-4                           
17 3140          Weld County S/D Re-8                
18 3140          Weld Re-8 Schools                   </code></pre>
</div>
</div>
<p>Most of these issues are minor differences that are easily fixed. The only significant differences are with district codes <code>0920</code>, <code>1110</code>, <code>2730</code>, and <code>3100</code>. These records will need to be modified individually as there are no patterns to the discrepancies. When the issue is that there are different names in use, the one being used more recently will be adopted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_name =</span> <span class="fu">case_when</span>(district_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Mc Clave Re-2"</span>,<span class="st">"Mcclave Re-2"</span>) <span class="sc">~</span> <span class="st">"McClave Re-2"</span>,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">str_starts</span>(district_name, <span class="st">"St Vrain Valley Re"</span>) <span class="sc">~</span> <span class="st">"St Vrain Valley Re-1j"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                              <span class="co"># district 0920 is called "Elizabeth School District" most recently</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>                              district_name <span class="sc">==</span> <span class="st">"Elizabeth C-1"</span> <span class="sc">~</span> <span class="st">"Elizabeth School District"</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>                              <span class="co"># district 1110 is called "District 49" most recently</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>                              district_name <span class="sc">==</span> <span class="st">"Falcon 49"</span> <span class="sc">~</span> <span class="st">"District 49"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">str_starts</span>(district_name, <span class="st">"Moffat County"</span>) <span class="sc">~</span> <span class="st">"Moffat County Re-1"</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>                              district_name <span class="sc">==</span> <span class="st">"Meeker Re1"</span> <span class="sc">~</span> <span class="st">"Meeker Re-1"</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>                              <span class="co"># district 2730 is called "Upper Rio Grande School District C-7" most recently</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>                              district_name <span class="sc">==</span> <span class="st">"Del Norte C-7"</span> <span class="sc">~</span> <span class="st">"Upper Rio Grande School District C-7"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>                              district_name <span class="sc">==</span> <span class="st">"Windsor Re-4"</span> <span class="sc">~</span> <span class="st">"Weld Re-4"</span>,</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>                              <span class="co"># district 3140 is called "Weld Re-8 Schools" most recently</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>                              district_name <span class="sc">==</span> <span class="st">"Weld County S/D Re-8"</span> <span class="sc">~</span> <span class="st">"Weld Re-8 Schools"</span>,</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>                              <span class="cn">TRUE</span> <span class="sc">~</span> district_name)</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This confirms that the <code>district_name</code> field has been normalised. Now there are only 178 distinct values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(district_name) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
      n
  &lt;int&gt;
1   178</code></pre>
</div>
</div>
</section>
<section id="verify-school-year-information" class="level4">
<h4 class="anchored" data-anchor-id="verify-school-year-information">Verify school year information</h4>
<p>Each dataset should have a single value in the <code>school_year</code> field. If this is not the case, determine what the discrepancy is and make the correction.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
# Groups:   school_year [7]
  school_year     n
  &lt;chr&gt;       &lt;int&gt;
1 2016-2017     178
2 2017-2018     178
3 2018-2019     178
4 2019-2020     178
5 2020-2021     178
6 2021-2022     178
7 2022-2023     178</code></pre>
</div>
</div>
<p>The datasets all contain a single value for the <code>school_year</code>.</p>
<p>Now that this data is confirmed, the <code>school_year</code> field should be converted to an ordinal factor from a character field.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">school_year =</span> <span class="fu">fct_relevel</span>(school_year, <span class="st">"2016-2017"</span>, <span class="st">"2017-2018"</span>, <span class="st">"2018-2019"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"2019-2020"</span>,<span class="st">"2020-2021"</span>,<span class="st">"2021-2022"</span>,<span class="st">"2022-2023"</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="chronic-absenteeism-rate" class="level4">
<h4 class="anchored" data-anchor-id="chronic-absenteeism-rate">Chronic absenteeism rate</h4>
<p>This field represents the proportion of K-12 students who are chronically absent. Values should range from 0 to 1 inclusive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(chronically_absent_rate) <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.273985680 0.226889195 0.368673647 0.351188322 0.007774538 0.149413020</code></pre>
</div>
</div>
<p>This field has way too many significant figures. Most of these are meaningless and later years in the dataset have fewer significant figures, so the additional significant figures will be removed by rounding.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">chronically_absent_rate =</span> <span class="fu">round</span>(chronically_absent_rate, <span class="dv">3</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plot histograms to look for unusual or invalid values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>chronically_absent_rate)) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.05</span>, <span class="at">colour=</span><span class="st">"white"</span>, <span class="at">fill=</span>standard_chart_colour) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of district chronic absenteeism"</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"School years 2016-2023"</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">"Chronically absent rate"</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">"Count"</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/confirm%20chronic%20absentism%20rate%20data-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The data look valid. There is a high occurrence of zero values in the 2016-2017 school year. This suggests that either different school districts may have begun record keeping at different times or that these smaller districts were actually not seeing this phenomenon until later. Of these, the former seems more plausible. Chronic absenteeism could be cross-referenced with truancy rates to provide a check on this. The truancy data may allow us to rule out the second hypothesis. This could be done in a follow-up analysis.</p>
<p>There are 20 districts that reported no chronically absent students in 2016-2017. The number steadily decreases and by 2021-2022 there are no districts reporting no students as chronically absent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(chronically_absent_rate <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>total_students)) <span class="sc">+</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins=</span><span class="dv">20</span>, <span class="at">colour=</span><span class="st">"white"</span>, <span class="at">fill=</span>standard_chart_colour) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year) <span class="sc">+</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Smaller districts are less likely to report chronic absenteeism"</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"The number of schools not reporting declines significantly over time"</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">"Total studends enrolled"</span>,</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">"Count"</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/chronic%20absenteeism%20rate%20analysis-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="total-student-enrollment" class="level4">
<h4 class="anchored" data-anchor-id="total-student-enrollment">Total student enrollment</h4>
<p>Based on a 5-number summary of the number of students enrolled in each district varies widely from less than 10 to more than 85,000.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_count =</span> <span class="fu">min</span>(total_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_1 =</span> <span class="fu">quantile</span>(total_students, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(total_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_3 =</span> <span class="fu">quantile</span>(total_students, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_count =</span> <span class="fu">max</span>(total_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">id=</span><span class="st">"total-enrollment-tukey"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_table</span>(<span class="st">"5-number summary of undifferentiated enrollment data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="total-enrollment-tukey" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#total-enrollment-tukey table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#total-enrollment-tukey thead, #total-enrollment-tukey tbody, #total-enrollment-tukey tfoot, #total-enrollment-tukey tr, #total-enrollment-tukey td, #total-enrollment-tukey th {
  border-style: none;
}

#total-enrollment-tukey p {
  margin: 0;
  padding: 0;
}

#total-enrollment-tukey .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#total-enrollment-tukey .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#total-enrollment-tukey .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#total-enrollment-tukey .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#total-enrollment-tukey .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#total-enrollment-tukey .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#total-enrollment-tukey .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#total-enrollment-tukey .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#total-enrollment-tukey .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#total-enrollment-tukey .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#total-enrollment-tukey .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#total-enrollment-tukey .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#total-enrollment-tukey .gt_spanner_row {
  border-bottom-style: hidden;
}

#total-enrollment-tukey .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#total-enrollment-tukey .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#total-enrollment-tukey .gt_from_md > :first-child {
  margin-top: 0;
}

#total-enrollment-tukey .gt_from_md > :last-child {
  margin-bottom: 0;
}

#total-enrollment-tukey .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#total-enrollment-tukey .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#total-enrollment-tukey .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#total-enrollment-tukey .gt_row_group_first td {
  border-top-width: 2px;
}

#total-enrollment-tukey .gt_row_group_first th {
  border-top-width: 2px;
}

#total-enrollment-tukey .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#total-enrollment-tukey .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#total-enrollment-tukey .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#total-enrollment-tukey .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#total-enrollment-tukey .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#total-enrollment-tukey .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#total-enrollment-tukey .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#total-enrollment-tukey .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#total-enrollment-tukey .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#total-enrollment-tukey .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#total-enrollment-tukey .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#total-enrollment-tukey .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#total-enrollment-tukey .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#total-enrollment-tukey .gt_left {
  text-align: left;
}

#total-enrollment-tukey .gt_center {
  text-align: center;
}

#total-enrollment-tukey .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#total-enrollment-tukey .gt_font_normal {
  font-weight: normal;
}

#total-enrollment-tukey .gt_font_bold {
  font-weight: bold;
}

#total-enrollment-tukey .gt_font_italic {
  font-style: italic;
}

#total-enrollment-tukey .gt_super {
  font-size: 65%;
}

#total-enrollment-tukey .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#total-enrollment-tukey .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#total-enrollment-tukey .gt_indent_1 {
  text-indent: 5px;
}

#total-enrollment-tukey .gt_indent_2 {
  text-indent: 10px;
}

#total-enrollment-tukey .gt_indent_3 {
  text-indent: 15px;
}

#total-enrollment-tukey .gt_indent_4 {
  text-indent: 20px;
}

#total-enrollment-tukey .gt_indent_5 {
  text-indent: 25px;
}

#total-enrollment-tukey .gt_table {
  width: 100%;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">5-number summary of undifferentiated enrollment data</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="school_year">school_year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="min_count">min_count</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="quartile_1">quartile_1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="median">median</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="quartile_3">quartile_3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="max_count">max_count</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="school_year" class="gt_row gt_center">2016-2017</td>
<td headers="min_count" class="gt_row gt_right">5</td>
<td headers="quartile_1" class="gt_row gt_right">212</td>
<td headers="median" class="gt_row gt_right">596</td>
<td headers="quartile_3" class="gt_row gt_right">2,339</td>
<td headers="max_count" class="gt_row gt_right">86,139</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2017-2018</td>
<td headers="min_count" class="gt_row gt_right">4</td>
<td headers="quartile_1" class="gt_row gt_right">210.5</td>
<td headers="median" class="gt_row gt_right">584</td>
<td headers="quartile_3" class="gt_row gt_right">2,325.5</td>
<td headers="max_count" class="gt_row gt_right">86,863</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2018-2019</td>
<td headers="min_count" class="gt_row gt_right">37</td>
<td headers="quartile_1" class="gt_row gt_right">209</td>
<td headers="median" class="gt_row gt_right">598</td>
<td headers="quartile_3" class="gt_row gt_right">2,299</td>
<td headers="max_count" class="gt_row gt_right">86,887</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="min_count" class="gt_row gt_right">16</td>
<td headers="quartile_1" class="gt_row gt_right">227.2</td>
<td headers="median" class="gt_row gt_right">658.5</td>
<td headers="quartile_3" class="gt_row gt_right">2,475.2</td>
<td headers="max_count" class="gt_row gt_right">96,030</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="min_count" class="gt_row gt_right">44</td>
<td headers="quartile_1" class="gt_row gt_right">219</td>
<td headers="median" class="gt_row gt_right">622</td>
<td headers="quartile_3" class="gt_row gt_right">2,193</td>
<td headers="max_count" class="gt_row gt_right">93,385</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="min_count" class="gt_row gt_right">32</td>
<td headers="quartile_1" class="gt_row gt_right">225.5</td>
<td headers="median" class="gt_row gt_right">619.5</td>
<td headers="quartile_3" class="gt_row gt_right">2,369.8</td>
<td headers="max_count" class="gt_row gt_right">92,170</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2022-2023</td>
<td headers="min_count" class="gt_row gt_right">31</td>
<td headers="quartile_1" class="gt_row gt_right">222</td>
<td headers="median" class="gt_row gt_right">599</td>
<td headers="quartile_3" class="gt_row gt_right">2,322</td>
<td headers="max_count" class="gt_row gt_right">87,225</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The numbers are consistent and there are no obviously invalid values in the dataset. The minimum counts for the first two years look suspect. The district is the same in both cases, the Agate 300 school district.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(district_code <span class="sc">==</span> <span class="st">"0960"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(school_year,absentee_students,total_students,chronically_absent_rate) <span class="sc">|&gt;</span> </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">id=</span><span class="st">"agate-300-enrollment"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_table</span>(<span class="st">"Agate 300 School District enrollment data 2016-2023"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="agate-300-enrollment" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#agate-300-enrollment table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#agate-300-enrollment thead, #agate-300-enrollment tbody, #agate-300-enrollment tfoot, #agate-300-enrollment tr, #agate-300-enrollment td, #agate-300-enrollment th {
  border-style: none;
}

#agate-300-enrollment p {
  margin: 0;
  padding: 0;
}

#agate-300-enrollment .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#agate-300-enrollment .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#agate-300-enrollment .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#agate-300-enrollment .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#agate-300-enrollment .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#agate-300-enrollment .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#agate-300-enrollment .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#agate-300-enrollment .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#agate-300-enrollment .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#agate-300-enrollment .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#agate-300-enrollment .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#agate-300-enrollment .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#agate-300-enrollment .gt_spanner_row {
  border-bottom-style: hidden;
}

#agate-300-enrollment .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#agate-300-enrollment .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#agate-300-enrollment .gt_from_md > :first-child {
  margin-top: 0;
}

#agate-300-enrollment .gt_from_md > :last-child {
  margin-bottom: 0;
}

#agate-300-enrollment .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#agate-300-enrollment .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#agate-300-enrollment .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#agate-300-enrollment .gt_row_group_first td {
  border-top-width: 2px;
}

#agate-300-enrollment .gt_row_group_first th {
  border-top-width: 2px;
}

#agate-300-enrollment .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#agate-300-enrollment .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#agate-300-enrollment .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#agate-300-enrollment .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#agate-300-enrollment .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#agate-300-enrollment .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#agate-300-enrollment .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#agate-300-enrollment .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#agate-300-enrollment .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#agate-300-enrollment .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#agate-300-enrollment .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#agate-300-enrollment .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#agate-300-enrollment .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#agate-300-enrollment .gt_left {
  text-align: left;
}

#agate-300-enrollment .gt_center {
  text-align: center;
}

#agate-300-enrollment .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#agate-300-enrollment .gt_font_normal {
  font-weight: normal;
}

#agate-300-enrollment .gt_font_bold {
  font-weight: bold;
}

#agate-300-enrollment .gt_font_italic {
  font-style: italic;
}

#agate-300-enrollment .gt_super {
  font-size: 65%;
}

#agate-300-enrollment .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#agate-300-enrollment .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#agate-300-enrollment .gt_indent_1 {
  text-indent: 5px;
}

#agate-300-enrollment .gt_indent_2 {
  text-indent: 10px;
}

#agate-300-enrollment .gt_indent_3 {
  text-indent: 15px;
}

#agate-300-enrollment .gt_indent_4 {
  text-indent: 20px;
}

#agate-300-enrollment .gt_indent_5 {
  text-indent: 25px;
}

#agate-300-enrollment .gt_table {
  width: 100%;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Agate 300 School District enrollment data 2016-2023</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="school_year">school_year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="absentee_students">absentee_students</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="total_students">total_students</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="chronically_absent_rate">chronically_absent_rate</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="school_year" class="gt_row gt_center">2016-2017</td>
<td headers="absentee_students" class="gt_row gt_right">0</td>
<td headers="total_students" class="gt_row gt_right">5</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2017-2018</td>
<td headers="absentee_students" class="gt_row gt_right">0</td>
<td headers="total_students" class="gt_row gt_right">4</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2018-2019</td>
<td headers="absentee_students" class="gt_row gt_right">0</td>
<td headers="total_students" class="gt_row gt_right">47</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="absentee_students" class="gt_row gt_right">4</td>
<td headers="total_students" class="gt_row gt_right">34</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0.1</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="absentee_students" class="gt_row gt_right">16</td>
<td headers="total_students" class="gt_row gt_right">73</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0.2</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="absentee_students" class="gt_row gt_right">22</td>
<td headers="total_students" class="gt_row gt_right">95</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0.2</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2022-2023</td>
<td headers="absentee_students" class="gt_row gt_right">12</td>
<td headers="total_students" class="gt_row gt_right">78</td>
<td headers="chronically_absent_rate" class="gt_row gt_right">0.2</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>The <code>total_students</code> data for Agate 300 school district is quite variable, but 5 and 4 seem like extremely low counts given the other 5 years of data available. It will not affect the outcome of this study, but a follow-up to determine the true values for the 2016-2017 and 2017-2018 school years would be useful.</p>
<p>To look for more school districts that might have large discrepancies in enrollment, year on year percent change in total enrollment can be computed and outliers investigated. After the field is created, a 5-number summary will give rough information about how the values are distributed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df_master_tmp <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_enroll_diff =</span> <span class="dv">100</span><span class="sc">*</span>(total_students <span class="sc">-</span> <span class="fu">lag</span>(total_students))<span class="sc">/</span><span class="fu">lag</span>(total_students)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>df_master_tmp <span class="sc">|&gt;</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school_year <span class="sc">!=</span> <span class="st">"2016-2017"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_diff =</span> <span class="fu">min</span>(pct_enroll_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_1 =</span> <span class="fu">quantile</span>(pct_enroll_diff, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(pct_enroll_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_3 =</span> <span class="fu">quantile</span>(pct_enroll_diff, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_diff =</span> <span class="fu">max</span>(pct_enroll_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">id=</span><span class="st">"colorado-pct-diff-enrollment-tukey5"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_table</span>(<span class="st">"% change in enrollment 5-number summary by school year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="colorado-pct-diff-enrollment-tukey5" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#colorado-pct-diff-enrollment-tukey5 table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#colorado-pct-diff-enrollment-tukey5 thead, #colorado-pct-diff-enrollment-tukey5 tbody, #colorado-pct-diff-enrollment-tukey5 tfoot, #colorado-pct-diff-enrollment-tukey5 tr, #colorado-pct-diff-enrollment-tukey5 td, #colorado-pct-diff-enrollment-tukey5 th {
  border-style: none;
}

#colorado-pct-diff-enrollment-tukey5 p {
  margin: 0;
  padding: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#colorado-pct-diff-enrollment-tukey5 .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#colorado-pct-diff-enrollment-tukey5 .gt_spanner_row {
  border-bottom-style: hidden;
}

#colorado-pct-diff-enrollment-tukey5 .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#colorado-pct-diff-enrollment-tukey5 .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#colorado-pct-diff-enrollment-tukey5 .gt_from_md > :first-child {
  margin-top: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_from_md > :last-child {
  margin-bottom: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#colorado-pct-diff-enrollment-tukey5 .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#colorado-pct-diff-enrollment-tukey5 .gt_row_group_first td {
  border-top-width: 2px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_row_group_first th {
  border-top-width: 2px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#colorado-pct-diff-enrollment-tukey5 .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment-tukey5 .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_left {
  text-align: left;
}

#colorado-pct-diff-enrollment-tukey5 .gt_center {
  text-align: center;
}

#colorado-pct-diff-enrollment-tukey5 .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#colorado-pct-diff-enrollment-tukey5 .gt_font_normal {
  font-weight: normal;
}

#colorado-pct-diff-enrollment-tukey5 .gt_font_bold {
  font-weight: bold;
}

#colorado-pct-diff-enrollment-tukey5 .gt_font_italic {
  font-style: italic;
}

#colorado-pct-diff-enrollment-tukey5 .gt_super {
  font-size: 65%;
}

#colorado-pct-diff-enrollment-tukey5 .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#colorado-pct-diff-enrollment-tukey5 .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#colorado-pct-diff-enrollment-tukey5 .gt_indent_1 {
  text-indent: 5px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_indent_2 {
  text-indent: 10px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_indent_3 {
  text-indent: 15px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_indent_4 {
  text-indent: 20px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_indent_5 {
  text-indent: 25px;
}

#colorado-pct-diff-enrollment-tukey5 .gt_table {
  width: 100%;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">% change in enrollment 5-number summary by school year</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="school_year">school_year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="min_diff">min_diff</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="quartile_1">quartile_1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="median">median</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="quartile_3">quartile_3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="max_diff">max_diff</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="school_year" class="gt_row gt_center">2017-2018</td>
<td headers="min_diff" class="gt_row gt_right">−24.1</td>
<td headers="quartile_1" class="gt_row gt_right">−2.4</td>
<td headers="median" class="gt_row gt_right">0.1</td>
<td headers="quartile_3" class="gt_row gt_right">2.2</td>
<td headers="max_diff" class="gt_row gt_right">47.1</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2018-2019</td>
<td headers="min_diff" class="gt_row gt_right">−16.9</td>
<td headers="quartile_1" class="gt_row gt_right">−2.1</td>
<td headers="median" class="gt_row gt_right">0.2</td>
<td headers="quartile_3" class="gt_row gt_right">2.5</td>
<td headers="max_diff" class="gt_row gt_right">1,075</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="min_diff" class="gt_row gt_right">−90.4</td>
<td headers="quartile_1" class="gt_row gt_right">4.7</td>
<td headers="median" class="gt_row gt_right">9.6</td>
<td headers="quartile_3" class="gt_row gt_right">14.7</td>
<td headers="max_diff" class="gt_row gt_right">75.6</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="min_diff" class="gt_row gt_right">−81</td>
<td headers="quartile_1" class="gt_row gt_right">−8.9</td>
<td headers="median" class="gt_row gt_right">−3.9</td>
<td headers="quartile_3" class="gt_row gt_right">0</td>
<td headers="max_diff" class="gt_row gt_right">868.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="min_diff" class="gt_row gt_right">−66.3</td>
<td headers="quartile_1" class="gt_row gt_right">−3.4</td>
<td headers="median" class="gt_row gt_right">1.5</td>
<td headers="quartile_3" class="gt_row gt_right">7.2</td>
<td headers="max_diff" class="gt_row gt_right">395.5</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2022-2023</td>
<td headers="min_diff" class="gt_row gt_right">−46.6</td>
<td headers="quartile_1" class="gt_row gt_right">−9</td>
<td headers="median" class="gt_row gt_right">−4.3</td>
<td headers="quartile_3" class="gt_row gt_right">−0.2</td>
<td headers="max_diff" class="gt_row gt_right">217.8</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>This table shows that there are some very significant changes in district enrollments.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>df_master_tmp <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school_year <span class="sc">!=</span> <span class="st">"2016-2017"</span> <span class="sc">&amp;</span> <span class="fu">abs</span>(pct_enroll_diff) <span class="sc">&gt;</span> <span class="dv">50</span>) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(school_year, district_code, district_name, absentee_students, total_students, pct_enroll_diff) <span class="sc">|&gt;</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="fu">abs</span>(pct_enroll_diff))) <span class="sc">|&gt;</span> </span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">id=</span><span class="st">"colorado-pct-diff-enrollment"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">format_table</span>(<span class="st">"Percent change of enrollment outliers 2016-2023"</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Outliers are defined as having a change in enrollment greater than 50%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="colorado-pct-diff-enrollment" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#colorado-pct-diff-enrollment table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#colorado-pct-diff-enrollment thead, #colorado-pct-diff-enrollment tbody, #colorado-pct-diff-enrollment tfoot, #colorado-pct-diff-enrollment tr, #colorado-pct-diff-enrollment td, #colorado-pct-diff-enrollment th {
  border-style: none;
}

#colorado-pct-diff-enrollment p {
  margin: 0;
  padding: 0;
}

#colorado-pct-diff-enrollment .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#colorado-pct-diff-enrollment .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#colorado-pct-diff-enrollment .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#colorado-pct-diff-enrollment .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#colorado-pct-diff-enrollment .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#colorado-pct-diff-enrollment .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#colorado-pct-diff-enrollment .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#colorado-pct-diff-enrollment .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#colorado-pct-diff-enrollment .gt_spanner_row {
  border-bottom-style: hidden;
}

#colorado-pct-diff-enrollment .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#colorado-pct-diff-enrollment .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#colorado-pct-diff-enrollment .gt_from_md > :first-child {
  margin-top: 0;
}

#colorado-pct-diff-enrollment .gt_from_md > :last-child {
  margin-bottom: 0;
}

#colorado-pct-diff-enrollment .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#colorado-pct-diff-enrollment .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#colorado-pct-diff-enrollment .gt_row_group_first td {
  border-top-width: 2px;
}

#colorado-pct-diff-enrollment .gt_row_group_first th {
  border-top-width: 2px;
}

#colorado-pct-diff-enrollment .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#colorado-pct-diff-enrollment .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#colorado-pct-diff-enrollment .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#colorado-pct-diff-enrollment .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#colorado-pct-diff-enrollment .gt_left {
  text-align: left;
}

#colorado-pct-diff-enrollment .gt_center {
  text-align: center;
}

#colorado-pct-diff-enrollment .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#colorado-pct-diff-enrollment .gt_font_normal {
  font-weight: normal;
}

#colorado-pct-diff-enrollment .gt_font_bold {
  font-weight: bold;
}

#colorado-pct-diff-enrollment .gt_font_italic {
  font-style: italic;
}

#colorado-pct-diff-enrollment .gt_super {
  font-size: 65%;
}

#colorado-pct-diff-enrollment .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#colorado-pct-diff-enrollment .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#colorado-pct-diff-enrollment .gt_indent_1 {
  text-indent: 5px;
}

#colorado-pct-diff-enrollment .gt_indent_2 {
  text-indent: 10px;
}

#colorado-pct-diff-enrollment .gt_indent_3 {
  text-indent: 15px;
}

#colorado-pct-diff-enrollment .gt_indent_4 {
  text-indent: 20px;
}

#colorado-pct-diff-enrollment .gt_indent_5 {
  text-indent: 25px;
}

#colorado-pct-diff-enrollment .gt_table {
  width: 100%;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_title gt_font_normal" style="">Percent change of enrollment outliers 2016-2023</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="6" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">Outliers are defined as having a change in enrollment greater than 50%</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="school_year">school_year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="district_code">district_code</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="district_name">district_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="absentee_students">absentee_students</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="total_students">total_students</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="pct_enroll_diff">pct_enroll_diff</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="school_year" class="gt_row gt_center">2018-2019</td>
<td headers="district_code" class="gt_row gt_right">0960</td>
<td headers="district_name" class="gt_row gt_left">Agate 300</td>
<td headers="absentee_students" class="gt_row gt_right">0</td>
<td headers="total_students" class="gt_row gt_right">47</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">1,075</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">1410</td>
<td headers="district_name" class="gt_row gt_left">North Park R-1</td>
<td headers="absentee_students" class="gt_row gt_right">35</td>
<td headers="total_students" class="gt_row gt_right">155</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">868.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">0100</td>
<td headers="district_name" class="gt_row gt_left">Alamosa Re-11j</td>
<td headers="absentee_students" class="gt_row gt_right">685</td>
<td headers="total_students" class="gt_row gt_right">2,294</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">395.5</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">0230</td>
<td headers="district_name" class="gt_row gt_left">Walsh Re-1</td>
<td headers="absentee_students" class="gt_row gt_right">31</td>
<td headers="total_students" class="gt_row gt_right">160</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">255.6</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2022-2023</td>
<td headers="district_code" class="gt_row gt_right">1440</td>
<td headers="district_name" class="gt_row gt_left">Plainview Re-2</td>
<td headers="absentee_students" class="gt_row gt_right">6</td>
<td headers="total_students" class="gt_row gt_right">410</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">217.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">0260</td>
<td headers="district_name" class="gt_row gt_left">Vilas Re-5</td>
<td headers="absentee_students" class="gt_row gt_right">6</td>
<td headers="total_students" class="gt_row gt_right">200</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">177.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2022-2023</td>
<td headers="district_code" class="gt_row gt_right">0310</td>
<td headers="district_name" class="gt_row gt_left">McClave Re-2</td>
<td headers="absentee_students" class="gt_row gt_right">42</td>
<td headers="total_students" class="gt_row gt_right">236</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">168.2</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">1440</td>
<td headers="district_name" class="gt_row gt_left">Plainview Re-2</td>
<td headers="absentee_students" class="gt_row gt_right">12</td>
<td headers="total_students" class="gt_row gt_right">129</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">158</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">0940</td>
<td headers="district_name" class="gt_row gt_left">Big Sandy 100j</td>
<td headers="absentee_students" class="gt_row gt_right">56</td>
<td headers="total_students" class="gt_row gt_right">354</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">139.2</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">3220</td>
<td headers="district_name" class="gt_row gt_left">Idalia Rj-3</td>
<td headers="absentee_students" class="gt_row gt_right">21</td>
<td headers="total_students" class="gt_row gt_right">185</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">134.2</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">0960</td>
<td headers="district_name" class="gt_row gt_left">Agate 300</td>
<td headers="absentee_students" class="gt_row gt_right">16</td>
<td headers="total_students" class="gt_row gt_right">73</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">114.7</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">0740</td>
<td headers="district_name" class="gt_row gt_left">Sierra Grande R-30</td>
<td headers="absentee_students" class="gt_row gt_right">87</td>
<td headers="total_students" class="gt_row gt_right">286</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">110.3</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">1590</td>
<td headers="district_name" class="gt_row gt_left">Primero Reorganized 2</td>
<td headers="absentee_students" class="gt_row gt_right">29</td>
<td headers="total_students" class="gt_row gt_right">223</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">106.5</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">0580</td>
<td headers="district_name" class="gt_row gt_left">South Conejos Re-10</td>
<td headers="absentee_students" class="gt_row gt_right">32</td>
<td headers="total_students" class="gt_row gt_right">155</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">98.7</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="district_code" class="gt_row gt_right">1410</td>
<td headers="district_name" class="gt_row gt_left">North Park R-1</td>
<td headers="absentee_students" class="gt_row gt_right">2</td>
<td headers="total_students" class="gt_row gt_right">16</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−90.4</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">3110</td>
<td headers="district_name" class="gt_row gt_left">Johnstown-Milliken Re-5j</td>
<td headers="absentee_students" class="gt_row gt_right">947</td>
<td headers="total_students" class="gt_row gt_right">3,906</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">83.5</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">0100</td>
<td headers="district_name" class="gt_row gt_left">Alamosa Re-11j</td>
<td headers="absentee_students" class="gt_row gt_right">127</td>
<td headers="total_students" class="gt_row gt_right">463</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−81</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">2862</td>
<td headers="district_name" class="gt_row gt_left">Julesburg Re-1</td>
<td headers="absentee_students" class="gt_row gt_right">328</td>
<td headers="total_students" class="gt_row gt_right">742</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">80.5</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="district_code" class="gt_row gt_right">0260</td>
<td headers="district_name" class="gt_row gt_left">Vilas Re-5</td>
<td headers="absentee_students" class="gt_row gt_right">12</td>
<td headers="total_students" class="gt_row gt_right">72</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">75.6</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">0190</td>
<td headers="district_name" class="gt_row gt_left">Byers 32j</td>
<td headers="absentee_students" class="gt_row gt_right">2,115</td>
<td headers="total_students" class="gt_row gt_right">7,027</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">73.5</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="district_code" class="gt_row gt_right">0230</td>
<td headers="district_name" class="gt_row gt_left">Walsh Re-1</td>
<td headers="absentee_students" class="gt_row gt_right">3</td>
<td headers="total_students" class="gt_row gt_right">45</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−69.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">0290</td>
<td headers="district_name" class="gt_row gt_left">Las Animas Re-1</td>
<td headers="absentee_students" class="gt_row gt_right">350</td>
<td headers="total_students" class="gt_row gt_right">859</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−66.3</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2022-2023</td>
<td headers="district_code" class="gt_row gt_right">1580</td>
<td headers="district_name" class="gt_row gt_left">Trinidad 1</td>
<td headers="absentee_students" class="gt_row gt_right">238</td>
<td headers="total_students" class="gt_row gt_right">856</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">64.6</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2021-2022</td>
<td headers="district_code" class="gt_row gt_right">0310</td>
<td headers="district_name" class="gt_row gt_left">McClave Re-2</td>
<td headers="absentee_students" class="gt_row gt_right">13</td>
<td headers="total_students" class="gt_row gt_right">88</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−59.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="district_code" class="gt_row gt_right">3220</td>
<td headers="district_name" class="gt_row gt_left">Idalia Rj-3</td>
<td headers="absentee_students" class="gt_row gt_right">79</td>
<td headers="total_students" class="gt_row gt_right">79</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−57.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">1440</td>
<td headers="district_name" class="gt_row gt_left">Plainview Re-2</td>
<td headers="absentee_students" class="gt_row gt_right">10</td>
<td headers="total_students" class="gt_row gt_right">50</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">56.2</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="district_code" class="gt_row gt_right">2862</td>
<td headers="district_name" class="gt_row gt_left">Julesburg Re-1</td>
<td headers="absentee_students" class="gt_row gt_right">167</td>
<td headers="total_students" class="gt_row gt_right">802</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">55.4</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2019-2020</td>
<td headers="district_code" class="gt_row gt_right">0170</td>
<td headers="district_name" class="gt_row gt_left">Deer Trail 26j</td>
<td headers="absentee_students" class="gt_row gt_right">61</td>
<td headers="total_students" class="gt_row gt_right">283</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">53.8</td></tr>
    <tr><td headers="school_year" class="gt_row gt_center">2020-2021</td>
<td headers="district_code" class="gt_row gt_right">0580</td>
<td headers="district_name" class="gt_row gt_left">South Conejos Re-10</td>
<td headers="absentee_students" class="gt_row gt_right">11</td>
<td headers="total_students" class="gt_row gt_right">78</td>
<td headers="pct_enroll_diff" class="gt_row gt_right">−51.2</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Without knowing the history if these districts it is hard to say if the numbers contain errors. Like Agate 300, mentioned earlier, there are some very large changes year on year in micro to intermediate sized districts. Some of this may be explained by small districts be subject to more size volatility than larger ones, but some of these districts are having order of magnitude size changes in total enrollment which seems likely to be a data entry error than a real fluctuation in student enrollment.</p>
</section>
<section id="examples-of-districts-with-at-least-1-suspicious-total_students-record" class="level4">
<h4 class="anchored" data-anchor-id="examples-of-districts-with-at-least-1-suspicious-total_students-record">Examples of districts with at least 1 suspicious <code>total_students</code> record</h4>
<ul>
<li>0960 - Agate 300</li>
<li>0230 - Walsh RE-1</li>
<li>1410 - North Park R-1</li>
<li>0100 - Alamosa Re-11j</li>
<li>0580 - South Conejos Re-10 (?)</li>
</ul>
<p>The first two years for Agate show enrollments of 5 &amp; 4 students, then enrollment jumps to 37. It is likely that the 5 and 4 should be 35 and 34, but without checking, it is hard to say what the correct values are.</p>
<p>For Walsh RE-1, there is a clear typo in the 2019-2020 information. The listed value is 45 but this should probably be 145 based on the other years.</p>
<p>The same situation exists for North Park R-1 and in the same year. The listed value is 16, but it should probably be 160 or similar based on data from the other school years.</p>
<p>Alamosa RE-11j has a similar issue in the 2020-2021 school year where, most likely, a leading “2” was dropped from the total enrollment number. It should probably be 2463 rather than the 463 that is listed.</p>
<p>There is a less clear case for the South Conejos Re-10 school district in 2021-2022. The total enrollment drops from 160 to 78 before rebounding to 155. It is possible that there is a leading “1” that is missing, but so many districts show a drop in this year, that it is possible that the data are accurate.</p>
</section>
<section id="chronically-absent-student-counts" class="level4">
<h4 class="anchored" data-anchor-id="chronically-absent-student-counts">Chronically absent student counts</h4>
<p>The number of chronically absent students in each district varies widely from 0 to more than 40,000. The numbers are consistent and there are no invalid values in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_count =</span> <span class="fu">min</span>(absentee_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_1 =</span> <span class="fu">quantile</span>(absentee_students, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(absentee_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_3 =</span> <span class="fu">quantile</span>(absentee_students, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_count =</span> <span class="fu">max</span>(absentee_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 6
  school_year min_count quartile_1 median quartile_3 max_count
  &lt;fct&gt;           &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 2016-2017           0        6     49         290      30483
2 2017-2018           0       33    144.        526.     31469
3 2018-2019           0       37    106         428      34596
4 2019-2020           0       26.2   90.5       506      27873
5 2020-2021           0       32    134         554      27870
6 2021-2022           4       67    173         782.     39781
7 2022-2023           1       61.5  170.        681      35835</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(absentee_students)) <span class="sc">|&gt;</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>absentee_students)) <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour=</span><span class="st">"white"</span>, <span class="at">fill=</span>standard_chart_colour) <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year) <span class="sc">+</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Distribution of district chronic absenteeism"</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x=</span><span class="st">"Absentee students"</span>,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y=</span><span class="st">"Count"</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/absentee%20students%20count%20analysis-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="feature-creation" class="level2">
<h2 class="anchored" data-anchor-id="feature-creation">Feature creation</h2>
<p>Three new features will be made from the current data: <code>district_size</code>, <code>pct_diff</code>, and <code>pct_enrollment_diff</code>. The first feature is a ordered categorical variable that describes the size of the district. There are five levels. From smallest to largest they are</p>
<ul>
<li>Micro - Up to 100 students</li>
<li>Small - 101 to 750 students</li>
<li>Intermediate - 751 to 3000 students</li>
<li>Medium - 3001 to 15000 students</li>
<li>Large - More than 15000 students</li>
</ul>
<p>The second feature is the change in chronic absenteeism rate from year to year. The values for all districts in the 2016-2017 school year are <code>NA</code> as this is the first year in the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_size =</span> <span class="fu">case_when</span>(</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>      total_students <span class="sc">&gt;</span> <span class="dv">15000</span> <span class="sc">~</span> <span class="st">"Large"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>      total_students <span class="sc">&gt;</span> <span class="dv">3000</span> <span class="sc">~</span> <span class="st">"Medium"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>      total_students <span class="sc">&gt;</span> <span class="dv">750</span> <span class="sc">~</span> <span class="st">"Intermediate"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>      total_students <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">~</span> <span class="st">"Small"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Micro"</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">district_size =</span> <span class="fu">fct_relevel</span>(district_size, <span class="st">"Micro"</span>, <span class="st">"Small"</span>, <span class="st">"Intermediate"</span>, <span class="st">"Medium"</span>, <span class="st">"Large"</span>)</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_diff =</span> chronically_absent_rate <span class="sc">-</span> <span class="fu">lag</span>(chronically_absent_rate, <span class="at">n=</span><span class="dv">1</span>, <span class="at">order_by =</span> district_code)</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>(district_code) <span class="sc">|&gt;</span> </span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(district_size, <span class="at">.before=</span>chronically_absent_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The number of districts in each group is consistent from year to year. The smaller school districts, those in the <code>Small</code> and <code>Micro</code> categories, have the most variability. This is not surprising as small changes in student population can move a district from one category to another.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>district_size)) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill=</span>standard_chart_colour) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year) <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">"District size"</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">"Count"</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The <code>pct_diff</code> data looks to be consistent with what we know about the rest of the data in this dataset. The 5 number summary shows how volatile the absenteeism rates can be, particularly around the first COVID-19 school year 2019-2020.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school_year <span class="sc">!=</span> <span class="st">"2016-2017"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_count =</span> <span class="fu">min</span>(pct_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_1 =</span> <span class="fu">quantile</span>(pct_diff, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">median =</span> <span class="fu">median</span>(pct_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">quartile_3 =</span> <span class="fu">quantile</span>(pct_diff, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_count =</span> <span class="fu">max</span>(pct_diff, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  school_year min_count quartile_1   median quartile_3 max_count
  &lt;fct&gt;           &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 2017-2018      -0.255   -0.00600  0.0250      0.147      0.478
2 2018-2019      -0.361   -0.074   -0.00200     0.0240     0.394
3 2019-2020      -0.27    -0.074   -0.00100     0.061      1    
4 2020-2021      -0.886   -0.00900  0.0420      0.095      0.62 
5 2021-2022      -0.229    0.0210   0.084       0.131      0.332
6 2022-2023      -0.251   -0.0678  -0.0245      0.0100     0.406</code></pre>
</div>
</div>
<p>The histograms show that the <code>pct_diff</code> data is normally distributed but with significant outliers in the 2019-2020 and 2020-2021 school years.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(pct_diff)) <span class="sc">|&gt;</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>pct_diff)) <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="fl">0.1</span>, <span class="at">colour=</span><span class="st">"white"</span>, <span class="at">fill=</span>standard_chart_colour) <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="create-master-data-file" class="level3">
<h3 class="anchored" data-anchor-id="create-master-data-file">Create master data file</h3>
<p>Now that the data preparation and processing have been completed, the complete dataset can be saved to disk.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_master, <span class="at">file =</span> <span class="st">"output/2016-2023-master_chronic_absenteeism.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Write CSV files to output folder for each year’s dataset so that they can be reused without having to reapply the processing steps.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2016, <span class="at">file=</span><span class="st">"output/2016-2017_chronic_absenteeism.csv"</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2017, <span class="at">file=</span><span class="st">"output/2017-2018_chronic_absenteeism.csv"</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2018, <span class="at">file=</span><span class="st">"output/2018-2019_chronic_absenteeism.csv"</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2019, <span class="at">file=</span><span class="st">"output/2019-2020_chronic_absenteeism.csv"</span>)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2020, <span class="at">file=</span><span class="st">"output/2020-2021_chronic_absenteeism.csv"</span>)</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2021, <span class="at">file=</span><span class="st">"output/2021-2022_chronic_absenteeism.csv"</span>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df_2022, <span class="at">file=</span><span class="st">"output/2022-2023_chronic_absenteeism.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<p>The purpose of this analysis is to understand how chronic absenteeism is changing in Colorado both spatially and temporally.</p>
<p><strong>Flesh this intro out a bit more, it needs something more.</strong></p>
<section id="absentee-trends-for-colorado-school-districts" class="level3">
<h3 class="anchored" data-anchor-id="absentee-trends-for-colorado-school-districts">Absentee trends for Colorado school districts</h3>
<p>To begin, we create a line chart showing how the average chronic absenteeism changes for each <code>district_size</code> from 2016 - 2023. These are weighted averages that take into account the varying sizes of the individual school districts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district_size, school_year) <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_rate =</span> <span class="fu">sum</span>(absentee_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">sum</span>(total_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>school_year, <span class="at">y=</span>avg_rate<span class="sc">*</span><span class="dv">100</span>, <span class="at">group=</span>district_size)) <span class="sc">+</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">colour=</span>district_size), <span class="at">linewidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> district_size_palette)<span class="sc">+</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">"Percent Absentee"</span>,</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">"Absenteeism is increasing over time"</span>,</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill=</span><span class="st">"District size"</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/absenteeism%20trends-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From this plot, we can see that, over all rates chronic absenteeism have increased for all district sizes from 2016 to 2023. There is a peak in the 2021-2022 school year, but it is too early to tell if the upward trend will continue or if 2021-2022 represents the high water mark. In addition to the overall trend, it is clear that larger districts tend to have higher rates of chronic absenteeism than smaller districts. The volatility of rate the smallest districts can be in the three school years from 2019-2022.</p>
</section>
<section id="spatial-variations-in-chronic-absenteeism" class="level3">
<h3 class="anchored" data-anchor-id="spatial-variations-in-chronic-absenteeism">Spatial variations in chronic absenteeism</h3>
<p>These maps show the change rates of chronic absenteeism spatially over time. The overall trend is that chronic absenteeism is increasingly a problem statewide, but local changes vary widely. The lowest rates of chronic absenteeism tend to be in the eastern part of the state, which is an ares dominated by smaller districts. The highest rates tend to be in the southern and southwestern Colorado. The main urban centres also show high rates of chronic absenteeism.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>districts_shp <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"shapes/School_Districts.geojson"</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>districts_shp <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_master, <span class="at">by=</span><span class="st">"district_code"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill=</span>chronically_absent_rate)) <span class="sc">+</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low=</span><span class="st">"#f1e2ca"</span>, <span class="at">high=</span><span class="st">"#b25d5a"</span>) <span class="sc">+</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill=</span><span class="st">"Chronically absent rate"</span>,</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Chronic absentee rate by district, 2016-2023"</span>,</span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Grey indicates missing data"</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">"plot"</span>,</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.key.height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">'cm'</span>), <span class="co">#change legend key height</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">'cm'</span>), <span class="co">#change legend key width</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)</span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/absentee%20rate%20changes%20by%20district%202016-2023-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
<p>The changing rates of absenteeism show a trend of generally increasing rates peaking in the 2021-2022 school year. There is not yet enough data to know if this represents a peak in rates of absenteeism or if they will continue to climb.</p>
</section>
<section id="spatial-variations-in-the-change-of-chronic-absenteeism-rates" class="level3">
<h3 class="anchored" data-anchor-id="spatial-variations-in-the-change-of-chronic-absenteeism-rates">Spatial variations in the change of chronic absenteeism rates</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>districts_shp <span class="sc">|&gt;</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(df_master, <span class="at">by=</span><span class="st">"district_code"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school_year <span class="sc">!=</span> <span class="st">"2016-2017"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill=</span>pct_diff)) <span class="sc">+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>school_year, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low=</span><span class="st">"#557ca2"</span>, <span class="at">high=</span><span class="st">"#b25e5a"</span>, <span class="at">mid=</span><span class="st">"white"</span>, <span class="at">midpoint =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill=</span><span class="st">"% change"</span>,</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Percent change in chronic absentee rate by district, 2017-2023"</span>,</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Grey indicates missing data"</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">"plot"</span>,</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.key.height =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">'cm'</span>), <span class="co">#change legend key height</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">'cm'</span>), <span class="co">#change legend key width</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>),</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>)</span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/percent%20change%20of%20absent%20rate%202017-2023-1.png" class="img-fluid" width="1440"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>total_enrollment_year <span class="ot">&lt;-</span> df_master <span class="sc">|&gt;</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(school_year) <span class="sc">|&gt;</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_enrollment =</span> <span class="fu">sum</span>(total_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>total_enrollment_year <span class="sc">|&gt;</span> </span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"school_year"</span>, <span class="at">values_from =</span> <span class="st">"total_enrollment"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(<span class="at">id=</span><span class="st">"co-total-enrollment"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Colorado total enrollment 2016-2023"</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">drop_trailing_zeros =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_css</span>(</span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">css =</span> <span class="st">"</span></span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a><span class="st">    #co-total-enrollment .gt_table {</span></span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a><span class="st">      width: 100%;</span></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a><span class="st">    "</span></span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="co-total-enrollment" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#co-total-enrollment table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#co-total-enrollment thead, #co-total-enrollment tbody, #co-total-enrollment tfoot, #co-total-enrollment tr, #co-total-enrollment td, #co-total-enrollment th {
  border-style: none;
}

#co-total-enrollment p {
  margin: 0;
  padding: 0;
}

#co-total-enrollment .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#co-total-enrollment .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#co-total-enrollment .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#co-total-enrollment .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#co-total-enrollment .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#co-total-enrollment .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#co-total-enrollment .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#co-total-enrollment .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#co-total-enrollment .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#co-total-enrollment .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#co-total-enrollment .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#co-total-enrollment .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#co-total-enrollment .gt_spanner_row {
  border-bottom-style: hidden;
}

#co-total-enrollment .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#co-total-enrollment .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#co-total-enrollment .gt_from_md > :first-child {
  margin-top: 0;
}

#co-total-enrollment .gt_from_md > :last-child {
  margin-bottom: 0;
}

#co-total-enrollment .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#co-total-enrollment .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#co-total-enrollment .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#co-total-enrollment .gt_row_group_first td {
  border-top-width: 2px;
}

#co-total-enrollment .gt_row_group_first th {
  border-top-width: 2px;
}

#co-total-enrollment .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#co-total-enrollment .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#co-total-enrollment .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#co-total-enrollment .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#co-total-enrollment .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#co-total-enrollment .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#co-total-enrollment .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#co-total-enrollment .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#co-total-enrollment .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#co-total-enrollment .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#co-total-enrollment .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#co-total-enrollment .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#co-total-enrollment .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#co-total-enrollment .gt_left {
  text-align: left;
}

#co-total-enrollment .gt_center {
  text-align: center;
}

#co-total-enrollment .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#co-total-enrollment .gt_font_normal {
  font-weight: normal;
}

#co-total-enrollment .gt_font_bold {
  font-weight: bold;
}

#co-total-enrollment .gt_font_italic {
  font-style: italic;
}

#co-total-enrollment .gt_super {
  font-size: 65%;
}

#co-total-enrollment .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#co-total-enrollment .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#co-total-enrollment .gt_indent_1 {
  text-indent: 5px;
}

#co-total-enrollment .gt_indent_2 {
  text-indent: 10px;
}

#co-total-enrollment .gt_indent_3 {
  text-indent: 15px;
}

#co-total-enrollment .gt_indent_4 {
  text-indent: 20px;
}

#co-total-enrollment .gt_indent_5 {
  text-indent: 25px;
}

#co-total-enrollment .gt_table {
  width: 100%;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Colorado total enrollment 2016-2023</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2016-2017">2016-2017</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2017-2018">2017-2018</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2018-2019">2018-2019</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2019-2020">2019-2020</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2020-2021">2020-2021</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2021-2022">2021-2022</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2022-2023">2022-2023</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="2016-2017" class="gt_row gt_right">853,041</td>
<td headers="2017-2018" class="gt_row gt_right">856,523</td>
<td headers="2018-2019" class="gt_row gt_right">855,947</td>
<td headers="2019-2020" class="gt_row gt_right">919,375</td>
<td headers="2020-2021" class="gt_row gt_right">875,760</td>
<td headers="2021-2022" class="gt_row gt_right">890,005</td>
<td headers="2022-2023" class="gt_row gt_right">860,059</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>As the following plot shows, Colorado student enrollments are volatile in the 2019-2022 school years. The number of students enrolled fluctuates during the time that chronic absentee rates are peaking.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>total_enrollment_year <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_change =</span> <span class="dv">100</span><span class="sc">*</span>(total_enrollment <span class="sc">-</span> <span class="fu">lag</span>(total_enrollment))<span class="sc">/</span><span class="fu">lag</span>(total_enrollment),</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">pos =</span> <span class="fu">if_else</span>(pct_change<span class="sc">&gt;</span><span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(school_year <span class="sc">!=</span> <span class="st">"2016-2017"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>school_year, <span class="at">y=</span>pct_change, <span class="at">fill=</span>pos)) <span class="sc">+</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#D6604D"</span>, <span class="st">"#92C5DE"</span>), <span class="at">guide =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">"School year"</span>,</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">"% change"</span>,</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">"Percent change in total enrollment for Colorado"</span>,</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle=</span><span class="st">"2017-2023"</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/visualise%20enrollment%20pct%20change-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>df_master <span class="sc">|&gt;</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(district_size, school_year) <span class="sc">|&gt;</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">student_enrollment =</span> <span class="fu">sum</span>(total_students, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(total_enrollment_year, <span class="at">by=</span> <span class="st">"school_year"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">pct_of_total =</span> <span class="fu">round</span>(student_enrollment<span class="sc">/</span>total_enrollment,<span class="dv">3</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">fct_rev</span>(school_year),<span class="at">y=</span>pct_of_total,<span class="at">group=</span>district_size, <span class="at">fill=</span>district_size)) <span class="sc">+</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>district_size_palette) <span class="sc">+</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x=</span><span class="st">"School year"</span>,</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y=</span><span class="st">"% of total"</span>,</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">"District size percentage of total enrollment"</span>,</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle=</span><span class="st">"2016-2023"</span>,</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill=</span><span class="st">"District size"</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Colorado-School-District-ChronicAbsenteeism_files/figure-html/visual%20district%20size%20percentages-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="key-findings" class="level2">
<h2 class="anchored" data-anchor-id="key-findings">Key findings</h2>
<ul>
<li>Chronic absenteeism is increasing between 2016 and 2023 with a noticeable increase in the rate of absenteeism during the COVID-19 pandemic.</li>
<li>Rates of absenteeism appear to be declining, but it is too early to establish a trend.</li>
<li>The pandemic appears to have caused a migration of students into and then out of larger school districts. This flux of students may have contributed to increased rates of absenteeism during this time.</li>
<li>Smaller districts generally have rate rates of absenteeism than larger ones.</li>
<li>About 7 in 10 Colorado students are enrolled in large school districts. Given that these districts also have higher rates of absenteeism, State efforts to address the problem should focus on these districts</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>